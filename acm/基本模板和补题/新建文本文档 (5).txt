#include<stdio.h>
#include<string.h>
#include<algorithm>

using namespace std;

#define inf  1000000007
#define MAXN 310

struct node
{
    int a,b,d;
}z[MAXN];
int w[10010];
int num[710];
int dp[710][710];

int main()
{
    int t;
    scanf("%d",&t);
    while(t--)
    {
        int n;
        scanf("%d",&n);
        int cnt=0;

        for(int i=1;i<=n;i++)
        {
            scanf("%d%d%d",&z[i].a,&z[i].b,&z[i].d);
            num[cnt++]=z[i].a;
            num[cnt++]=z[i].b;
        }
        num[cnt++]=0;
        num[cnt++]=10001;
        sort(num,num+cnt);
        w[num[0]]=0;
        int c1=1;
        for(int i=1;i<cnt;i++)
        {
            if(num[i]!=num[i-1])
            {
                w[num[i]]=c1++;
            }
        }
        for(int l=1;l<=c1;l++)
        {
            for(int j=0;j+l-1<c1;j++)
            {
                int en=j+l-1;
                int mx=0;
                for(int k=1;k<=n;k++)
                {
                    if(j<w[z[k].a]&&w[z[k].b]<en)
                        mx=max(mx,z[k].d);
                }
                if(mx==0)
                {
                    dp[j][en]=0;
                }
                else
                {
                    dp[j][en]=inf;
                    for(int k=j;k<=en;k++)
                        dp[j][en]=min(dp[j][en],dp[j][k]+dp[k][en]+mx);
                }
            }
        }
        printf("%d\n",dp[0][c1-1]);
    }
    return 0;
}
/*
1
3
1 4 4
4 7 5
3 4 7

*/